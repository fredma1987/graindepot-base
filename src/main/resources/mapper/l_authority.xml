<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by AutoCode,v1.0.0 --><mapper namespace="com.zhoubi.graindepot.mapper.AuthorityMapper">	<insert id="insert" parameterType="com.zhoubi.graindepot.bean.Authority" useGeneratedKeys="true" keyProperty="keyid">		insert into l_authority		(		authoritycode		,authorityname		,authoritybegin		,authorityend		,groupid		,companyid		,graindepotid		,fromuserid		,touserid		,authoritytime		,isclose		)		values		(		#{authoritycode}		,#{authorityname}		,#{authoritybegin}		,#{authorityend}		,#{groupid}		,#{companyid}		,#{graindepotid}		,#{fromuserid}		,#{touserid}		,#{authoritytime}		,#{isclose}	)</insert>	<insert id="insertList" parameterType="java.util.List" useGeneratedKeys="true" >		insert into l_authority		(		authoritycode		,authorityname		,authoritybegin		,authorityend		,groupid		,companyid		,graindepotid		,fromuserid		,touserid		,authoritytime		,isclose		)		values		<foreach collection="list" item="item" index="index" separator=",">		 (		#{item.authoritycode}		,#{item.authorityname}		,#{item.authoritybegin}		,#{item.authorityend}		,#{item.groupid}		,#{item.companyid}		,#{item.graindepotid}		,#{item.fromuserid}		,#{item.touserid}		,#{item.authoritytime}		,#{item.isclose}	) </foreach></insert>	<update id="update" parameterType="com.zhoubi.graindepot.bean.Authority">		update l_authority		  set keyid=keyid		,authoritycode=#{authoritycode}		,authorityname=#{authorityname}		,authoritybegin=#{authoritybegin}		,authorityend=#{authorityend}		,fromuserid=#{fromuserid}		,touserid=#{touserid}		,authoritytime=#{authoritytime}		,isclose=#{isclose}		 where keyid=#{keyid}	</update>	<update id="updateMap" parameterType="Map">		update l_authority		  set keyid=keyid 		<if test="authoritycode != null"> ,authoritycode=#{authoritycode} </if>		<if test="authorityname != null"> ,authorityname=#{authorityname} </if>		<if test="authoritybegin != null"> ,authoritybegin=#{authoritybegin} </if>		<if test="authorityend != null"> ,authorityend=#{authorityend} </if>		<if test="groupid != null"> ,groupid=#{groupid} </if>		<if test="companyid != null"> ,companyid=#{companyid} </if>		<if test="graindepotid != null"> ,graindepotid=#{graindepotid} </if>		<if test="fromuserid != null"> ,fromuserid=#{fromuserid} </if>		<if test="touserid != null"> ,touserid=#{touserid} </if>		<if test="authoritytime != null"> ,authoritytime=#{authoritytime} </if>		<if test="isclose != null"> ,isclose=#{isclose} </if>		 where 1=1 		<if test="Where_IdsStr != null"> and keyid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and keyid =#{Where_Id} </if>		<if test="Where_keyid != null"> and keyid=#{Where_keyid} </if>		<if test="Where_authoritycode != null"> and authoritycode=#{Where_authoritycode} </if>		<if test="Where_authorityname != null"> and authorityname=#{Where_authorityname} </if>		<if test="Where_authoritybegin != null"> and authoritybegin=#{Where_authoritybegin} </if>		<if test="Where_authorityend != null"> and authorityend=#{Where_authorityend} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_fromuserid != null"> and fromuserid=#{Where_fromuserid} </if>		<if test="Where_touserid != null"> and touserid=#{Where_touserid} </if>		<if test="Where_authoritytime != null"> and authoritytime=#{Where_authoritytime} </if>		<if test="Where_isclose != null"> and isclose=#{Where_isclose} </if>	</update>	<resultMap id="baseAuthorityMap" type="com.zhoubi.graindepot.bean.Authority"> 		<id column="keyid" property="keyid"/>		<result column="authoritycode" property="authoritycode"/>		<result column="authorityname" property="authorityname"/>		<result column="authoritybegin" property="authoritybegin"/>		<result column="authorityend" property="authorityend"/>		<result column="groupid" property="groupid"/>		<result column="companyid" property="companyid"/>		<result column="graindepotid" property="graindepotid"/>		<result column="fromuserid" property="fromuserid"/>		<result column="touserid" property="touserid"/>		<result column="authoritytime" property="authoritytime"/>		<result column="isclose" property="isclose"/>	</resultMap>	<select id="selectById" parameterType="int" resultType="com.zhoubi.graindepot.bean.Authority">	 select 		t.keyid "keyid",		t.authoritycode "authoritycode",		t.authorityname "authorityname",		t.authoritybegin "authoritybegin",		t.authorityend "authorityend",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.fromuserid "fromuserid",		t.touserid "touserid",		t.authoritytime "authoritytime",		t.isclose "isclose"	 from l_authority t where keyid=#{keyid}	</select>	<select id="selectOne" parameterType="Map" resultType="com.zhoubi.graindepot.bean.Authority">	 select 		t.keyid "keyid",		t.authoritycode "authoritycode",		t.authorityname "authorityname",		t.authoritybegin "authoritybegin",		t.authorityend "authorityend",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.fromuserid "fromuserid",		t.touserid "touserid",		t.authoritytime "authoritytime",		t.isclose "isclose"	 from l_authority t where 1=1 		 <if test="keyid != null"> and t.keyid=#{keyid} </if>		 <if test="authoritycode != null"> and t.authoritycode=#{authoritycode} </if>		 <if test="authorityname != null"> and t.authorityname=#{authorityname} </if>		 <if test="authoritybegin != null"> and t.authoritybegin=#{authoritybegin} </if>		 <if test="authorityend != null"> and t.authorityend=#{authorityend} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="fromuserid != null"> and t.fromuserid=#{fromuserid} </if>		 <if test="touserid != null"> and t.touserid=#{touserid} </if>		 <if test="authoritytime != null"> and t.authoritytime=#{authoritytime} </if>		 <if test="isclose != null"> and t.isclose=#{isclose} </if>	</select>	<select id="selectList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.Authority">	 select 		t.keyid "keyid",		t.authoritycode "authoritycode",		t.authorityname "authorityname",		t.authoritybegin "authoritybegin",		t.authorityend "authorityend",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.fromuserid "fromuserid",		t.touserid "touserid",		t.authoritytime "authoritytime",		t.isclose "isclose"	 from l_authority t where 1=1 		 <if test="keyid != null"> and t.keyid=#{keyid} </if>		 <if test="authoritycode != null"> and t.authoritycode=#{authoritycode} </if>		 <if test="authorityname != null"> and t.authorityname=#{authorityname} </if>		 <if test="authoritybegin != null"> and t.authoritybegin=#{authoritybegin} </if>		 <if test="authorityend != null"> and t.authorityend=#{authorityend} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="fromuserid != null"> and t.fromuserid=#{fromuserid} </if>		 <if test="touserid != null"> and t.touserid=#{touserid} </if>		 <if test="authoritytime != null"> and t.authoritytime=#{authoritytime} </if>		 <if test="isclose != null"> and t.isclose=#{isclose} </if>	</select>	<delete id="deleteMap" parameterType="Map">		delete from l_authority where 1=1 		<if test="Where_IdsStr != null"> and keyid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and keyid =#{Where_Id} </if>		<if test="Where_keyid != null"> and keyid=#{Where_keyid} </if>		<if test="Where_authoritycode != null"> and authoritycode=#{Where_authoritycode} </if>		<if test="Where_authorityname != null"> and authorityname=#{Where_authorityname} </if>		<if test="Where_authoritybegin != null"> and authoritybegin=#{Where_authoritybegin} </if>		<if test="Where_authorityend != null"> and authorityend=#{Where_authorityend} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_fromuserid != null"> and fromuserid=#{Where_fromuserid} </if>		<if test="Where_touserid != null"> and touserid=#{Where_touserid} </if>		<if test="Where_authoritytime != null"> and authoritytime=#{Where_authoritytime} </if>		<if test="Where_isclose != null"> and isclose=#{Where_isclose} </if>	</delete>	<sql id="page_template">		<if test="orders != null">		 order by 		<foreach collection="orders" item="order" separator=",">		 ${order} 		</foreach>		</if>		 limit #{offset},#{pageSize} 	</sql> 	<select id="selectPageList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.Authority">	 select 		t.keyid "keyid",		t.authoritycode "authoritycode",		t.authorityname "authorityname",		t.authoritybegin "authoritybegin",		t.authorityend "authorityend",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.fromuserid "fromuserid",		t.touserid "touserid",		t.authoritytime "authoritytime",		t.isclose "isclose",		u.username "tousername",		u.username "fromusername"		from l_authority t		left join base_user u on t.touserid=u.userid		left join base_user u1 on t.fromuserid=u1.userid		where 1=1		<if test="keyid!=null "> and t.keyid=#{keyid} </if>		<if test="authoritycode!=null "> and t.authoritycode=#{authoritycode} </if>		<if test="authorityname!=null "> and t.authorityname=#{authorityname} </if>		<if test="authoritybegin!=null "> and t.authoritybegin=#{authoritybegin} </if>		<if test="authorityend!=null "> and t.authorityend=#{authorityend} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="fromuserid!=null "> and t.fromuserid=#{fromuserid} </if>		<if test="touserid!=null "> and t.touserid=#{touserid} </if>		<if test="authoritytime!=null "> and t.authoritytime=#{authoritytime} </if>		<if test="isclose!=null "> and t.isclose=#{isclose} </if>		 <include refid="page_template"/> 	</select> 	<select id="selectPageCount" parameterType="Map" resultType="int">	 select count(*) from l_authority t where 1=1 		<if test="keyid!=null "> and t.keyid=#{keyid} </if>		<if test="NoId!=null "> and t.keyid!=#{NoId} </if>		<if test="authoritycode!=null "> and t.authoritycode=#{authoritycode} </if>		<if test="authorityname!=null "> and t.authorityname=#{authorityname} </if>		<if test="authoritybegin!=null "> and t.authoritybegin=#{authoritybegin} </if>		<if test="authorityend!=null "> and t.authorityend=#{authorityend} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="fromuserid!=null "> and t.fromuserid=#{fromuserid} </if>		<if test="touserid!=null "> and t.touserid=#{touserid} </if>		<if test="authoritytime!=null "> and t.authoritytime=#{authoritytime} </if>		<if test="isclose!=null "> and t.isclose=#{isclose} </if>	</select>	<select id="getUserList" parameterType="Map"			resultType="com.zhoubi.graindepot.bean.BaseUser">		select t.* from base_user t		where 1=1		<if test="graindepotid!=null">and t.graindepotid=#{graindepotid}</if>	</select>	<select id="isAllow" parameterType="Map"			resultType="com.zhoubi.graindepot.bean.Authority">		select t.* from l_authority t		where 1=1		and now()>=t.authoritybegin		and t.authorityend>=now()		<if test="authoritycode!=null">and t.authoritycode=#{authoritycode}</if>		<if test="graindepotid!=null">and t.graindepotid=#{graindepotid}</if>		<if test="touserid!=null">and t.touserid=#{touserid}</if>	</select></mapper>